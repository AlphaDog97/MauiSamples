<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MauiMaps.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:mauiMaps="clr-namespace:MauiMaps"
    xmlns:models="clr-namespace:MauiMaps.Models"
    x:DataType="mauiMaps:MainPageViewModel">

    <Grid>
        <Map
            x:Name="MyMap"
            IsShowingUser="True"
            ItemsSource="{Binding LocationPins}">
            <Map.ItemTemplate>
                <DataTemplate x:DataType="{x:Type models:LocationPin}">
					<mauiMaps:CustomPin
	                    Location="{Binding Location}"
	                    Address="{Binding Address}"
	                    Label="{Binding Description}"
	                    ImageSource="{Binding ImageSource}"
	                    Type="Place"/>
				</DataTemplate>
            </Map.ItemTemplate>
        </Map>
        <HorizontalStackLayout
            Margin="0,0,0,10"
            BackgroundColor="White"
            HorizontalOptions="Center"
            VerticalOptions="End">
            <Button
                Command="{Binding AddCommand}"
                Text="Add new pin" />
            <Button
                Command="{Binding RemoveCommand}"
                Text="Remove last pin" />
            <Button
                Command="{Binding RemoveAllCommand}"
                Text="Clear all pins" />
        </HorizontalStackLayout>
    </Grid>

</ContentPage>
